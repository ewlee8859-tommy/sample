<UserControl x:Class="MotorMonitor.Views.MonitoringView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:prism="http://prismlibrary.com/"
             prism:ViewModelLocator.AutoWireViewModel="True"
             mc:Ignorable="d"
             d:DesignHeight="400" d:DesignWidth="500"
             Background="{DynamicResource {x:Static SystemColors.ControlBrushKey}}">

    <UserControl.Resources>
        <!-- 값 표시 스타일 -->
        <Style x:Key="ValueTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Right"/>
            <Setter Property="Margin" Value="0,0,10,0"/>
        </Style>

        <!-- 레이블 스타일 -->
        <Style x:Key="LabelTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="#666666"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="10,0,0,0"/>
        </Style>

        <!-- 상태 표시등 스타일 -->
        <Style x:Key="StatusIndicatorStyle" TargetType="Ellipse">
            <Setter Property="Width" Value="16"/>
            <Setter Property="Height" Value="16"/>
            <Setter Property="Margin" Value="5,0"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
    </UserControl.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="20"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 상단: 제어 버튼 및 상태 표시 -->
        <Border Grid.Row="0"
                Background="#F5F5F5"
                BorderBrush="#DDDDDD"
                BorderThickness="1"
                CornerRadius="5"
                Padding="15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- 시작 버튼 -->
                <Button Grid.Column="0"
                        Content="시작"
                        Command="{Binding StartCommand}"
                        IsEnabled="{Binding CanStart}"
                        Width="80" Height="32"
                        Margin="0,0,10,0"/>

                <!-- 중지 버튼 -->
                <Button Grid.Column="1"
                        Content="중지"
                        Command="{Binding StopCommand}"
                        IsEnabled="{Binding CanStop}"
                        Width="80" Height="32"/>

                <!-- 초기화 버튼 -->
                <Button Grid.Column="2"
                        Content="초기화"
                        Command="{Binding ResetCommand}"
                        Width="80" Height="32"
                        Margin="10,0,0,0"
                        HorizontalAlignment="Left"/>

                <!-- 상태 표시 -->
                <StackPanel Grid.Column="3"
                            Orientation="Horizontal"
                            VerticalAlignment="Center">
                    <Ellipse Style="{StaticResource StatusIndicatorStyle}">
                        <Ellipse.Fill>
                            <SolidColorBrush Color="{Binding StatusColor}"/>
                        </Ellipse.Fill>
                    </Ellipse>
                    <TextBlock Text="{Binding AxisStatus}"
                               FontSize="14"
                               FontWeight="SemiBold"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- 중앙: 모터 상태 값 표시 -->
        <Border Grid.Row="2"
                Background="White"
                BorderBrush="#DDDDDD"
                BorderThickness="1"
                CornerRadius="5"
                Padding="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="50"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="150"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Encoder Command -->
                <TextBlock Grid.Row="0" Grid.Column="0"
                           Text="Encoder Command"
                           Style="{StaticResource LabelTextStyle}"/>
                <TextBlock Grid.Row="0" Grid.Column="1"
                           Text="{Binding EncoderCommand}"
                           Style="{StaticResource ValueTextStyle}"/>

                <!-- Encoder Feedback -->
                <TextBlock Grid.Row="1" Grid.Column="0"
                           Text="Encoder Feedback"
                           Style="{StaticResource LabelTextStyle}"/>
                <TextBlock Grid.Row="1" Grid.Column="1"
                           Text="{Binding EncoderFeedback}"
                           Style="{StaticResource ValueTextStyle}"/>

                <!-- Position Error -->
                <TextBlock Grid.Row="2" Grid.Column="0"
                           Text="Position Error"
                           Style="{StaticResource LabelTextStyle}"/>
                <TextBlock Grid.Row="2" Grid.Column="1"
                           Text="{Binding PositionError}"
                           Style="{StaticResource ValueTextStyle}"
                           Foreground="#CC6600"/>

                <!-- Speed -->
                <TextBlock Grid.Row="3" Grid.Column="0"
                           Text="Speed"
                           Style="{StaticResource LabelTextStyle}"/>
                <TextBlock Grid.Row="3" Grid.Column="1"
                           Text="{Binding Speed}"
                           Style="{StaticResource ValueTextStyle}"/>

                <!-- Position -->
                <TextBlock Grid.Row="4" Grid.Column="0"
                           Text="Position"
                           Style="{StaticResource LabelTextStyle}"/>
                <TextBlock Grid.Row="4" Grid.Column="1"
                           Text="{Binding Position}"
                           Style="{StaticResource ValueTextStyle}"/>

                <!-- Torque -->
                <TextBlock Grid.Row="5" Grid.Column="0"
                           Text="Torque"
                           Style="{StaticResource LabelTextStyle}"/>
                <TextBlock Grid.Row="5" Grid.Column="1"
                           Text="{Binding Torque}"
                           Style="{StaticResource ValueTextStyle}"/>
            </Grid>
        </Border>
    </Grid>
</UserControl>
