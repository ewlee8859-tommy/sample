<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net10.0-windows</TargetFramework>
    <UseWPF>true</UseWPF>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>

    <!-- 독립 모듈 이름 -->
    <AssemblyName>MotorMonitor</AssemblyName>
    <RootNamespace>MotorMonitor</RootNamespace>

    <!-- Version Information -->
    <Version>1.0.0-dev</Version>
    <AssemblyVersion>1.0.0.0</AssemblyVersion>
    <FileVersion>1.0.0.0</FileVersion>
    <InformationalVersion>1.0.0-dev</InformationalVersion>

    <!-- Assembly Metadata -->
    <Company>MotorMonitor</Company>
    <Product>Motor Monitoring Plugin Module</Product>
    <Description>모터 시스템 상태 모니터링 플러그인 모듈</Description>
    <Copyright>Copyright © 2026</Copyright>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Prism.DryIoc" Version="9.0.537" />
    <PackageReference Include="Prism.Wpf" Version="9.0.537" />
    <PackageReference Include="Microsoft.Xaml.Behaviors.Wpf" Version="1.1.122" />
  </ItemGroup>

  <!-- 새 SDK DLL 참조 -->
  <ItemGroup>
    <Reference Include="DevTestWpfCalApp.Sdk.Abstractions">
      <HintPath>..\SDK\DevTestWpfCalApp.Sdk.Abstractions.dll</HintPath>
    </Reference>
    <Reference Include="DevTestWpfCalApp.Sdk.Common">
      <HintPath>..\SDK\DevTestWpfCalApp.Sdk.Common.dll</HintPath>
    </Reference>
  </ItemGroup>

  <!-- plugin.json을 출력 디렉토리에 복사 -->
  <ItemGroup>
    <None Include="plugin.json" CopyToOutputDirectory="PreserveNewest" />
  </ItemGroup>

  <!-- 빌드 후 출력 디렉토리에 플러그인 DLL 복사 (개발 편의) -->
  <Target Name="CopyToPluginsOutput" AfterTargets="Build" Condition="Exists('$(PluginsOutputDir)')">
    <Copy SourceFiles="$(TargetPath)" DestinationFolder="$(PluginsOutputDir)" SkipUnchangedFiles="true" />
  </Target>

</Project>
